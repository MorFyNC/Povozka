@rendermode InteractiveServer
@page "/"
@using Povozka.Components.Components
@using Povozka.Components.Data
@using Povozka.Components.Services
@inject NavigationManager NavManager

<PageTitle>Authorisation</PageTitle>

<HeaderComponent></HeaderComponent>

 @if(!_isLogining)
{
    <LoginFormComponent Login="Login" ChangeForm="Change"></LoginFormComponent>
} 
 else
{ 
    <RegistrationFormComponent Login="Login" ChangeForm="Change"></RegistrationFormComponent>
} 
@* <NavLink href="chats">sawdsa</NavLink> *@
@code{
    private bool _isLogining;

    private void Change() {
        _isLogining = !_isLogining;
    }

    private void Login(User user) {
        UserContext.CurrentUser = user;
        NavManager.NavigateTo("/chats");
    }
}